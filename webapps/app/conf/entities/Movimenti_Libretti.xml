<?xml version="1.0" encoding="UTF-8"?>

<bean> 
  <title>Movimenti_Libretti</title>  
  <data_source>Movimenti_Libretti</data_source>
    <alternative_data_sources>
    <data_source>
        <name>saldi</name>
        <target>View_Movimenti_Libretti_Saldi</target>
    </data_source>
  </alternative_data_sources>
  <alternative_data_sources> 
    <data_source> 
      <name>senza-quote</name>  
      <target>View_Movimenti_Libretti_Senza_Quote</target> 
    </data_source>   
    <data_source> 
      <name>senza-quote-o-quote-sbilanciate</name>  
      <target>View_Movimenti_Libretti_Senza_Quote_o_Quote_Sbilanciate</target> 
    </data_source>   
  </alternative_data_sources>    
  <order_by>data_movimento desc</order_by>  
  <xml> 
    <class>Movimenti_Libretti</class> 
  </xml>  
  <attributes> 
    <item> 
      <name>ID</name>  
      <type>2</type>  
      <xml> 
        <name>ID</name> 
      </xml> 
    </item>  
    <item> 
      <name>ID_Libretti_movimenti</name>  
      <type>17</type>  
      <xml> 
        <name>libretto</name>  
        <class>Libretti</class>  
        <relationship>N-1</relationship>  
        <target>movimenti</target>  
        <inverse>1</inverse> 
      </xml>  
      <codomain>Libretti</codomain>  
      <from>ID_Libretti_movimenti</from>  
      <to>ID</to> 
    </item>  
    <item> 
      <name>data_movimento</name>  
      <type>3</type>  
      <xml> 
        <name>data_movimento</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>causale_libretto</name>  
      <type>28</type>  
      <xml> 
        <name>causale_libretto</name>  
        <class/> 
      </xml>  
      <decode_class>217</decode_class> 
    </item>  
    <item> 
      <name>importo</name>  
      <type>25</type>  
      <xml> 
        <name>importo</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>mezzo</name>  
      <type>28</type>  
      <xml> 
        <name>mezzo</name>  
        <class/> 
      </xml>  
      <decode_class>229</decode_class> 
    </item>  
    <item> 
      <name>note</name>  
      <type>10</type>  
      <xml> 
        <name>note</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>numero_effetto</name>  
      <type>1</type>  
      <xml> 
        <name>numero_effetto</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>banca_di_riferimento_movimento</name>  
      <type>1</type>  
      <xml> 
        <name>banca_di_riferimento_movimento</name>  
        <class/> 
      </xml>
    </item>  
    <item> 
      <name>data_valuta</name>  
      <type>3</type>  
      <xml> 
        <name>data_valuta</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>allegato</name>  
      <type>20</type>  
      <xml> 
        <name>allegato</name>  
        <class>_system_attachment</class>  
        <relationship>N-1</relationship> 
      </xml>  
      <codomain>_system_attachment</codomain>  
      <from>allegato</from>  
      <to>ID</to> 
    </item>  
    <item> 
      <name>creation_user</name>  
      <type>1</type>  
      <xml> 
        <name>creation_user</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>creation_date</name>  
      <type>3</type>  
      <xml> 
        <name>creation_date</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>deletion_user</name>  
      <type>1</type>  
      <xml> 
        <name>deletion_user</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>deletion_date</name>  
      <type>3</type>  
      <xml> 
        <name>deletion_date</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>last_modification_user</name>  
      <type>1</type>  
      <xml> 
        <name>last_modification_user</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>last_modification_date</name>  
      <type>3</type>  
      <xml> 
        <name>last_modification_date</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>activation_flag</name>  
      <type>4</type>  
      <xml> 
        <name>activation_flag</name>  
        <class/> 
      </xml> 
    </item>  
    <item> 
      <name>deletion_flag</name>  
      <type>4</type>  
      <xml> 
        <name>deletion_flag</name>  
        <class/> 
      </xml> 
    </item> 
    <item> 
      <name>1</name>  
      <!-- da risolvere, se lasciato vuoto Persistence mette attributo target vuoto e da' errore....d'altra parte attenzione che il detail_edit non disegna l'ID!!!!! -->  
      <type>22</type>  
      <xml> 
        <name>nome_socio_consumatore</name>  
        <class>Consumatori</class>  
        <target>nome</target>  
        <!-- devono essere coerenti con gli attributi target della query -->  
        <target>cognome</target>  
        <relationship/>  
        <query> 
          <Consumatori operation="select" target="?"> 
            <condition> 
              <associazione> 
                <Soci> 
                	<risparmio>
                		<Libretti>  
	                  		<movimenti> 
                    			<Movimenti_Libretti> 
                      				<ID/> 
                    			</Movimenti_Libretti> 
                  			</movimenti>
                  		</Libretti>
                  	</risparmio> 
                </Soci> 
              </associazione> 
            </condition>  
            <nome/>  
            <cognome/> 
          </Consumatori> 
        </query> 
      </xml> 
    </item>
    <item> 
      <name>1</name>  
      <!-- da risolvere, se lasciato vuoto Persistence mette attributo target vuoto e da' errore....d'altra parte attenzione che il detail_edit non disegna l'ID!!!!! -->  
      <type>22</type>  
      <xml> 
        <name>nome_socio_organizzazione</name>  
        <class>Organizzazioni</class>  
        <target>nome</target> t>  
        <relationship/>  
        <query> 
          <Organizzazioni operation="select" target="?"> 
            <condition> 
              <dati_associazione> 
                <Soci> 
                	<risparmio>
                		<Libretti>  
	                  		<movimenti> 
                    			<Movimenti_Libretti> 
                      				<ID/> 
                    			</Movimenti_Libretti> 
                  			</movimenti>
                  		</Libretti>
                  </risparmio> 
                </Soci> 
              </dati_associazione> 
            </condition>  
            <nome/>  
          </Organizzazioni> 
        </query> 
      </xml> 
    </item>  
  </attributes> 
</bean>
